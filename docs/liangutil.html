<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>liangutil package &mdash; liangutil 0.1.9 文档</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=4a4a4177"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="_static/translations.js?v=beaddf03"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            liangutil
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">liangutil package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-liangutil.kafkautils">liangutil.kafkautils module</a><ul>
<li><a class="reference internal" href="#liangutil.kafkautils.kafka_callback"><code class="docutils literal notranslate"><span class="pre">kafka_callback()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.kafkautils.kafka_consumer"><code class="docutils literal notranslate"><span class="pre">kafka_consumer()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.kafkautils.kafka_producer"><code class="docutils literal notranslate"><span class="pre">kafka_producer()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-liangutil.lianglog">liangutil.lianglog module</a><ul>
<li><a class="reference internal" href="#liangutil.lianglog.LiangLog"><code class="docutils literal notranslate"><span class="pre">LiangLog</span></code></a><ul>
<li><a class="reference internal" href="#liangutil.lianglog.LiangLog.print_log"><code class="docutils literal notranslate"><span class="pre">LiangLog.print_log()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.lianglog.LiangLog.record_log"><code class="docutils literal notranslate"><span class="pre">LiangLog.record_log()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.lianglog.LiangLog.record_log_to_db"><code class="docutils literal notranslate"><span class="pre">LiangLog.record_log_to_db()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.lianglog.LiangLog.record_log_to_file"><code class="docutils literal notranslate"><span class="pre">LiangLog.record_log_to_file()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-liangutil.liangutils">liangutil.liangutils module</a><ul>
<li><a class="reference internal" href="#liangutil.liangutils.check_path"><code class="docutils literal notranslate"><span class="pre">check_path()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.liangutils.code_location"><code class="docutils literal notranslate"><span class="pre">code_location()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.liangutils.find_all_files"><code class="docutils literal notranslate"><span class="pre">find_all_files()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.liangutils.get_dirpath"><code class="docutils literal notranslate"><span class="pre">get_dirpath()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.liangutils.get_nowdate"><code class="docutils literal notranslate"><span class="pre">get_nowdate()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.liangutils.get_nowdatetime"><code class="docutils literal notranslate"><span class="pre">get_nowdatetime()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.liangutils.get_nowtime"><code class="docutils literal notranslate"><span class="pre">get_nowtime()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.liangutils.is_filepath"><code class="docutils literal notranslate"><span class="pre">is_filepath()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.liangutils.print_log"><code class="docutils literal notranslate"><span class="pre">print_log()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.liangutils.random_sleep"><code class="docutils literal notranslate"><span class="pre">random_sleep()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.liangutils.uncompress"><code class="docutils literal notranslate"><span class="pre">uncompress()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-liangutil.minioutils">liangutil.minioutils module</a><ul>
<li><a class="reference internal" href="#liangutil.minioutils.MinIOUtils"><code class="docutils literal notranslate"><span class="pre">MinIOUtils</span></code></a><ul>
<li><a class="reference internal" href="#liangutil.minioutils.MinIOUtils.get_jsonfile"><code class="docutils literal notranslate"><span class="pre">MinIOUtils.get_jsonfile()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.minioutils.MinIOUtils.upload_file_to_minio"><code class="docutils literal notranslate"><span class="pre">MinIOUtils.upload_file_to_minio()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-liangutil.mysqlutils">liangutil.mysqlutils module</a><ul>
<li><a class="reference internal" href="#liangutil.mysqlutils.MySQLUtils"><code class="docutils literal notranslate"><span class="pre">MySQLUtils</span></code></a><ul>
<li><a class="reference internal" href="#liangutil.mysqlutils.MySQLUtils.check_table_exist"><code class="docutils literal notranslate"><span class="pre">MySQLUtils.check_table_exist()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.mysqlutils.MySQLUtils.exists_data"><code class="docutils literal notranslate"><span class="pre">MySQLUtils.exists_data()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.mysqlutils.MySQLUtils.fetchall_to_dict_list"><code class="docutils literal notranslate"><span class="pre">MySQLUtils.fetchall_to_dict_list()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.mysqlutils.MySQLUtils.insert_data"><code class="docutils literal notranslate"><span class="pre">MySQLUtils.insert_data()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.mysqlutils.MySQLUtils.insert_datas"><code class="docutils literal notranslate"><span class="pre">MySQLUtils.insert_datas()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.mysqlutils.MySQLUtils.query_data"><code class="docutils literal notranslate"><span class="pre">MySQLUtils.query_data()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.mysqlutils.MySQLUtils.query_datas"><code class="docutils literal notranslate"><span class="pre">MySQLUtils.query_datas()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.mysqlutils.MySQLUtils.query_datas_dict_list"><code class="docutils literal notranslate"><span class="pre">MySQLUtils.query_datas_dict_list()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.mysqlutils.MySQLUtils.update_datas"><code class="docutils literal notranslate"><span class="pre">MySQLUtils.update_datas()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-liangutil.redisutils">liangutil.redisutils module</a><ul>
<li><a class="reference internal" href="#liangutil.redisutils.RedisUtils"><code class="docutils literal notranslate"><span class="pre">RedisUtils</span></code></a><ul>
<li><a class="reference internal" href="#liangutil.redisutils.RedisUtils.close"><code class="docutils literal notranslate"><span class="pre">RedisUtils.close()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.redisutils.RedisUtils.enqueue_message"><code class="docutils literal notranslate"><span class="pre">RedisUtils.enqueue_message()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-liangutil.requestutils">liangutil.requestutils module</a><ul>
<li><a class="reference internal" href="#liangutil.requestutils.ChromeUtils"><code class="docutils literal notranslate"><span class="pre">ChromeUtils</span></code></a><ul>
<li><a class="reference internal" href="#liangutil.requestutils.ChromeUtils.close"><code class="docutils literal notranslate"><span class="pre">ChromeUtils.close()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.requestutils.ChromeUtils.get_chrome_driver"><code class="docutils literal notranslate"><span class="pre">ChromeUtils.get_chrome_driver()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.requestutils.ChromeUtils.get_page_source"><code class="docutils literal notranslate"><span class="pre">ChromeUtils.get_page_source()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.requestutils.ChromeUtils.refresh_chrome"><code class="docutils literal notranslate"><span class="pre">ChromeUtils.refresh_chrome()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#liangutil.requestutils.RequestUtils"><code class="docutils literal notranslate"><span class="pre">RequestUtils</span></code></a><ul>
<li><a class="reference internal" href="#liangutil.requestutils.RequestUtils.file_download"><code class="docutils literal notranslate"><span class="pre">RequestUtils.file_download()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.requestutils.RequestUtils.file_download_github"><code class="docutils literal notranslate"><span class="pre">RequestUtils.file_download_github()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.requestutils.RequestUtils.file_download_once"><code class="docutils literal notranslate"><span class="pre">RequestUtils.file_download_once()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.requestutils.RequestUtils.get"><code class="docutils literal notranslate"><span class="pre">RequestUtils.get()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.requestutils.RequestUtils.get_header"><code class="docutils literal notranslate"><span class="pre">RequestUtils.get_header()</span></code></a></li>
<li><a class="reference internal" href="#liangutil.requestutils.RequestUtils.post"><code class="docutils literal notranslate"><span class="pre">RequestUtils.post()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#liangutil.requestutils.build_url"><code class="docutils literal notranslate"><span class="pre">build_url()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-liangutil">Module contents</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">liangutil</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">liangutil package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/liangutil.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="liangutil-package">
<h1>liangutil package<a class="headerlink" href="#liangutil-package" title="此标题的永久链接"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="此标题的永久链接"></a></h2>
</section>
<section id="module-liangutil.kafkautils">
<span id="liangutil-kafkautils-module"></span><h2>liangutil.kafkautils module<a class="headerlink" href="#module-liangutil.kafkautils" title="此标题的永久链接"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="liangutil.kafkautils.kafka_callback">
<span class="sig-prename descclassname"><span class="pre">liangutil.kafkautils.</span></span><span class="sig-name descname"><span class="pre">kafka_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">err</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/kafkautils.html#kafka_callback"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.kafkautils.kafka_callback" title="永久链接至目标"></a></dt>
<dd><p>kafka的回调函数(不要直接调用)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.kafkautils.kafka_consumer">
<span class="sig-prename descclassname"><span class="pre">liangutil.kafkautils.</span></span><span class="sig-name descname"><span class="pre">kafka_consumer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">broker_ips</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_offset_reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'earliest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/kafkautils.html#kafka_consumer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.kafkautils.kafka_consumer" title="永久链接至目标"></a></dt>
<dd><p>Kafka消费者</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>broker_ips</strong> (<em>list</em>) – Kafka broker IP 地址列表</p></li>
<li><p><strong>topics</strong> (<em>list</em>) – 要订阅的 Kafka 主题列表</p></li>
<li><p><strong>group_id</strong> (<em>str</em>) – 消费者组 ID</p></li>
<li><p><strong>auto_offset_reset</strong> (<em>str</em>) – 从主题开始的位置消费，可选值为 ‘earliest’ 或 ‘latest’。</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – 消费者轮询超时时间</p></li>
<li><p><strong>message_limit</strong> (<em>int</em>) – 需要处理的消息数量限制</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>消费者收到的记录列表，每个记录为一个字典，包含 key, value, topic, partition, offset 信息。</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.kafkautils.kafka_producer">
<span class="sig-prename descclassname"><span class="pre">liangutil.kafkautils.</span></span><span class="sig-name descname"><span class="pre">kafka_producer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">topic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">broker_ips</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/kafkautils.html#kafka_producer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.kafkautils.kafka_producer" title="永久链接至目标"></a></dt>
<dd><p>向kafka发送消息</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topic</strong> (<em>str</em>) – 将要发送的 Kafka 主题</p></li>
<li><p><strong>message</strong> (<em>str</em>) – 要发送的消息</p></li>
<li><p><strong>key</strong> (<em>str</em>) – 用于分区的键</p></li>
<li><p><strong>broker_ips</strong> (<em>list</em>) – Kafka broker IP 地址列表</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-liangutil.lianglog">
<span id="liangutil-lianglog-module"></span><h2>liangutil.lianglog module<a class="headerlink" href="#module-liangutil.lianglog" title="此标题的永久链接"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="liangutil.lianglog.LiangLog">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">liangutil.lianglog.</span></span><span class="sig-name descname"><span class="pre">LiangLog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_print_console</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_record_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_record_db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_pass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/lianglog.html#LiangLog"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.lianglog.LiangLog" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>LiangLog 记录日志类</p>
<dl class="py method">
<dt class="sig sig-object py" id="liangutil.lianglog.LiangLog.print_log">
<span class="sig-name descname"><span class="pre">print_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/lianglog.html#LiangLog.print_log"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.lianglog.LiangLog.print_log" title="永久链接至目标"></a></dt>
<dd><p>打印日志到控制台</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<em>str</em>) – 等级(WARNING, INFO , ERROR)</p></li>
<li><p><strong>content</strong> (<em>str</em>) – 日志信息</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.lianglog.LiangLog.record_log">
<span class="sig-name descname"><span class="pre">record_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/lianglog.html#LiangLog.record_log"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.lianglog.LiangLog.record_log" title="永久链接至目标"></a></dt>
<dd><p>记录日志总方法(推荐使用)</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<em>str</em>) – 等级(WARNING, INFO , ERROR)</p></li>
<li><p><strong>content</strong> (<em>str</em>) – 日志信息</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.lianglog.LiangLog.record_log_to_db">
<span class="sig-name descname"><span class="pre">record_log_to_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/lianglog.html#LiangLog.record_log_to_db"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.lianglog.LiangLog.record_log_to_db" title="永久链接至目标"></a></dt>
<dd><p>将日志记录到mysql</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<em>str</em>) – 等级(WARNING, INFO , ERROR)</p></li>
<li><p><strong>content</strong> (<em>str</em>) – 日志信息</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.lianglog.LiangLog.record_log_to_file">
<span class="sig-name descname"><span class="pre">record_log_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/lianglog.html#LiangLog.record_log_to_file"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.lianglog.LiangLog.record_log_to_file" title="永久链接至目标"></a></dt>
<dd><p>将日志记录到文件</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<em>str</em>) – 等级(WARNING, INFO , ERROR)</p></li>
<li><p><strong>content</strong> (<em>str</em>) – 日志信息</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-liangutil.liangutils">
<span id="liangutil-liangutils-module"></span><h2>liangutil.liangutils module<a class="headerlink" href="#module-liangutil.liangutils" title="此标题的永久链接"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="liangutil.liangutils.check_path">
<span class="sig-prename descclassname"><span class="pre">liangutil.liangutils.</span></span><span class="sig-name descname"><span class="pre">check_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/liangutils.html#check_path"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.liangutils.check_path" title="永久链接至目标"></a></dt>
<dd><p>检查目录是否存在</p>
<p>如果目录不存在创建目录</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – 路径</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>路径</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.liangutils.code_location">
<span class="sig-prename descclassname"><span class="pre">liangutil.liangutils.</span></span><span class="sig-name descname"><span class="pre">code_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/liangutils.html#code_location"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.liangutils.code_location" title="永久链接至目标"></a></dt>
<dd><p>得到调用该方法的文件名称和 代码行号</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>depth</strong> – 如果直接得到调用该方法的代码在哪里，传递-2</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>{调用该方法的pytho文件名} line {行号}</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.liangutils.find_all_files">
<span class="sig-prename descclassname"><span class="pre">liangutil.liangutils.</span></span><span class="sig-name descname"><span class="pre">find_all_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/liangutils.html#find_all_files"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.liangutils.find_all_files" title="永久链接至目标"></a></dt>
<dd><p>根据目录寻找该目录下的所有子文件</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>directory</strong> (<em>str</em>) – 目录路径</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>子文件路径</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.liangutils.get_dirpath">
<span class="sig-prename descclassname"><span class="pre">liangutil.liangutils.</span></span><span class="sig-name descname"><span class="pre">get_dirpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/liangutils.html#get_dirpath"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.liangutils.get_dirpath" title="永久链接至目标"></a></dt>
<dd><p>获得目录路径</p>
<p>如果是文件路径，提取父级目录路径（相对路径不要使用 ./ 开头）</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – 路径</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>目录路径</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.liangutils.get_nowdate">
<span class="sig-prename descclassname"><span class="pre">liangutil.liangutils.</span></span><span class="sig-name descname"><span class="pre">get_nowdate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">now</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/liangutils.html#get_nowdate"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.liangutils.get_nowdate" title="永久链接至目标"></a></dt>
<dd><p>获得现在的日期</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>now</strong> – now = datetime.datetime.now(pytz.timezone(‘Asia/Shanghai’))</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>日期字符串</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.liangutils.get_nowdatetime">
<span class="sig-prename descclassname"><span class="pre">liangutil.liangutils.</span></span><span class="sig-name descname"><span class="pre">get_nowdatetime</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/liangutils.html#get_nowdatetime"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.liangutils.get_nowdatetime" title="永久链接至目标"></a></dt>
<dd><p>获得亚洲上海时区现在的日期时间</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>时间字符串</p>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.liangutils.get_nowtime">
<span class="sig-prename descclassname"><span class="pre">liangutil.liangutils.</span></span><span class="sig-name descname"><span class="pre">get_nowtime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">now</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/liangutils.html#get_nowtime"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.liangutils.get_nowtime" title="永久链接至目标"></a></dt>
<dd><p>获得现在的时间</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>now</strong> – now = datetime.datetime.now(pytz.timezone(‘Asia/Shanghai’))</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>时间字符串</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.liangutils.is_filepath">
<span class="sig-prename descclassname"><span class="pre">liangutil.liangutils.</span></span><span class="sig-name descname"><span class="pre">is_filepath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/liangutils.html#is_filepath"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.liangutils.is_filepath" title="永久链接至目标"></a></dt>
<dd><p>判断是否为文件路径</p>
<p>相对路径不要使用 ./ 开头</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – 路径</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>包含文件名称的路径返回 True，否则返回 False</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>‘</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.liangutils.print_log">
<span class="sig-prename descclassname"><span class="pre">liangutil.liangutils.</span></span><span class="sig-name descname"><span class="pre">print_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/liangutils.html#print_log"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.liangutils.print_log" title="永久链接至目标"></a></dt>
<dd><p>打印日志</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> – 日志等级</p></li>
<li><p><strong>content</strong> – 信息</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.liangutils.random_sleep">
<span class="sig-prename descclassname"><span class="pre">liangutil.liangutils.</span></span><span class="sig-name descname"><span class="pre">random_sleep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/liangutils.html#random_sleep"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.liangutils.random_sleep" title="永久链接至目标"></a></dt>
<dd><p>随机睡眠若干秒</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lower_bound</strong> (<em>int</em>) – 最少睡眠秒数</p></li>
<li><p><strong>upper_bound</strong> (<em>int</em>) – 最多睡眠秒数</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.liangutils.uncompress">
<span class="sig-prename descclassname"><span class="pre">liangutil.liangutils.</span></span><span class="sig-name descname"><span class="pre">uncompress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_dir_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/liangutils.html#uncompress"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.liangutils.uncompress" title="永久链接至目标"></a></dt>
<dd><p>解压文件(支持zip,tgz,tar,rar,gz)</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_file</strong> (<em>str</em>) – 压缩包</p></li>
<li><p><strong>dest_dir_path</strong> (<em>str</em>) – 解压的目录</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>True/False</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-liangutil.minioutils">
<span id="liangutil-minioutils-module"></span><h2>liangutil.minioutils module<a class="headerlink" href="#module-liangutil.minioutils" title="此标题的永久链接"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="liangutil.minioutils.MinIOUtils">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">liangutil.minioutils.</span></span><span class="sig-name descname"><span class="pre">MinIOUtils</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ip_port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secret_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/minioutils.html#MinIOUtils"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.minioutils.MinIOUtils" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="liangutil.minioutils.MinIOUtils.get_jsonfile">
<span class="sig-name descname"><span class="pre">get_jsonfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/liangutil/minioutils.html#MinIOUtils.get_jsonfile"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.minioutils.MinIOUtils.get_jsonfile" title="永久链接至目标"></a></dt>
<dd><p>获取MinIO中的json文件</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bucket_name</strong> (<em>str</em>) – 桶名称</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – 文件路径</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.minioutils.MinIOUtils.upload_file_to_minio">
<span class="sig-name descname"><span class="pre">upload_file_to_minio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/minioutils.html#MinIOUtils.upload_file_to_minio"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.minioutils.MinIOUtils.upload_file_to_minio" title="永久链接至目标"></a></dt>
<dd><p>将文件上传至MinIO</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bucket_name</strong> (<em>str</em>) – 桶名称</p></li>
<li><p><strong>file_path</strong> (<em>str</em>) – 上传到MinIO的文件路径</p></li>
<li><p><strong>current_path</strong> (<em>str</em>) – 文件当前相对路径</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-liangutil.mysqlutils">
<span id="liangutil-mysqlutils-module"></span><h2>liangutil.mysqlutils module<a class="headerlink" href="#module-liangutil.mysqlutils" title="此标题的永久链接"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="liangutil.mysqlutils.MySQLUtils">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">liangutil.mysqlutils.</span></span><span class="sig-name descname"><span class="pre">MySQLUtils</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">database</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/mysqlutils.html#MySQLUtils"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.mysqlutils.MySQLUtils" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>MySQLUtils 基于 pymysql 库进行封装</p>
<dl class="py method">
<dt class="sig sig-object py" id="liangutil.mysqlutils.MySQLUtils.check_table_exist">
<span class="sig-name descname"><span class="pre">check_table_exist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/mysqlutils.html#MySQLUtils.check_table_exist"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.mysqlutils.MySQLUtils.check_table_exist" title="永久链接至目标"></a></dt>
<dd><p>根据表名检查表是否存在</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>table_name</strong> (<em>str</em>) – 表名</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>存在返回True，否则返回False</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.mysqlutils.MySQLUtils.exists_data">
<span class="sig-name descname"><span class="pre">exists_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/mysqlutils.html#MySQLUtils.exists_data"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.mysqlutils.MySQLUtils.exists_data" title="永久链接至目标"></a></dt>
<dd><p>是否存在该数据</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_name</strong> (<em>str</em>) – 表名</p></li>
<li><p><strong>columns</strong> (<em>list</em>) – 要查询的列名列表，如果为[]，则查询所有列</p></li>
<li><p><strong>condition</strong> (<em>str</em>) – 查询条件</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>存在True，否则False</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.mysqlutils.MySQLUtils.fetchall_to_dict_list">
<span class="sig-name descname"><span class="pre">fetchall_to_dict_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cursor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/mysqlutils.html#MySQLUtils.fetchall_to_dict_list"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.mysqlutils.MySQLUtils.fetchall_to_dict_list" title="永久链接至目标"></a></dt>
<dd><p>将pymysql的fetchall查询结果转换为装有dict类型的列表</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cursor</strong> – pymysql游标对象</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>装有字典类型的列表</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.mysqlutils.MySQLUtils.insert_data">
<span class="sig-name descname"><span class="pre">insert_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/mysqlutils.html#MySQLUtils.insert_data"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.mysqlutils.MySQLUtils.insert_data" title="永久链接至目标"></a></dt>
<dd><p>插入一条数据</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_name</strong> (<em>str</em>) – 表名</p></li>
<li><p><strong>data</strong> (<em>dict</em>) – 要插入的数据，以字段名为键，字段值为值。</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>插入成功返回”True”</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.mysqlutils.MySQLUtils.insert_datas">
<span class="sig-name descname"><span class="pre">insert_datas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/mysqlutils.html#MySQLUtils.insert_datas"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.mysqlutils.MySQLUtils.insert_datas" title="永久链接至目标"></a></dt>
<dd><p>插入一条数据</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_name</strong> (<em>str</em>) – 表名</p></li>
<li><p><strong>data</strong> (<em>list</em>) – 要插入的数据列表，以字段名为键，字段值为值。</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>插入成功返回”True”</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.mysqlutils.MySQLUtils.query_data">
<span class="sig-name descname"><span class="pre">query_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/mysqlutils.html#MySQLUtils.query_data"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.mysqlutils.MySQLUtils.query_data" title="永久链接至目标"></a></dt>
<dd><p>随机查询单条数据</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_name</strong> (<em>str</em>) – 表名</p></li>
<li><p><strong>columns</strong> (<em>list</em>) – 要查询的列名列表，如果为[]，则查询所有列</p></li>
<li><p><strong>condition</strong> (<em>str</em>) – 查询条件</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>查询结果</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.mysqlutils.MySQLUtils.query_datas">
<span class="sig-name descname"><span class="pre">query_datas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/mysqlutils.html#MySQLUtils.query_datas"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.mysqlutils.MySQLUtils.query_datas" title="永久链接至目标"></a></dt>
<dd><p>查询数据</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_name</strong> (<em>str</em>) – 表名</p></li>
<li><p><strong>columns</strong> (<em>list</em>) – 要查询的列名列表，如果为[]，则查询所有列</p></li>
<li><p><strong>condition</strong> (<em>str</em>) – 查询条件</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>查询结果(元组)，每条记录为一个元组</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.mysqlutils.MySQLUtils.query_datas_dict_list">
<span class="sig-name descname"><span class="pre">query_datas_dict_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/mysqlutils.html#MySQLUtils.query_datas_dict_list"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.mysqlutils.MySQLUtils.query_datas_dict_list" title="永久链接至目标"></a></dt>
<dd><p>查询数据</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_name</strong> (<em>str</em>) – 表名</p></li>
<li><p><strong>columns</strong> (<em>list</em>) – 要查询的列名列表，如果为[]，则查询所有列</p></li>
<li><p><strong>condition</strong> (<em>str</em>) – 查询条件</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>查询结果 [{},{},{}]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.mysqlutils.MySQLUtils.update_datas">
<span class="sig-name descname"><span class="pre">update_datas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/mysqlutils.html#MySQLUtils.update_datas"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.mysqlutils.MySQLUtils.update_datas" title="永久链接至目标"></a></dt>
<dd><p>更新数据</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_name</strong> (<em>str</em>) – 表名</p></li>
<li><p><strong>data</strong> (<em>dict</em>) – 要更新的数据，以字段名为键，字段值为值。</p></li>
<li><p><strong>condition</strong> (<em>str</em>) – 更新条件</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>更新成功返回 “True”，失败返回异常</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-liangutil.redisutils">
<span id="liangutil-redisutils-module"></span><h2>liangutil.redisutils module<a class="headerlink" href="#module-liangutil.redisutils" title="此标题的永久链接"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="liangutil.redisutils.RedisUtils">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">liangutil.redisutils.</span></span><span class="sig-name descname"><span class="pre">RedisUtils</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbnum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/redisutils.html#RedisUtils"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.redisutils.RedisUtils" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>RedisUtils 基于 redis 库进行封装</p>
<dl class="py method">
<dt class="sig sig-object py" id="liangutil.redisutils.RedisUtils.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/redisutils.html#RedisUtils.close"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.redisutils.RedisUtils.close" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.redisutils.RedisUtils.enqueue_message">
<span class="sig-name descname"><span class="pre">enqueue_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/redisutils.html#RedisUtils.enqueue_message"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.redisutils.RedisUtils.enqueue_message" title="永久链接至目标"></a></dt>
<dd><p>向Redis流插入数据</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream_name</strong> (<em>str</em>) – 流名称</p></li>
<li><p><strong>data</strong> – 数据</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-liangutil.requestutils">
<span id="liangutil-requestutils-module"></span><h2>liangutil.requestutils module<a class="headerlink" href="#module-liangutil.requestutils" title="此标题的永久链接"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="liangutil.requestutils.ChromeUtils">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">liangutil.requestutils.</span></span><span class="sig-name descname"><span class="pre">ChromeUtils</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_ssl_verify</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_chrome_headless</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_undetected_chromedriver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#ChromeUtils"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.ChromeUtils" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>ChromeUtils 基于 selenium 库进行的封装</p>
<dl class="py method">
<dt class="sig sig-object py" id="liangutil.requestutils.ChromeUtils.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#ChromeUtils.close"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.ChromeUtils.close" title="永久链接至目标"></a></dt>
<dd><p>关闭Chrome驱动</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.requestutils.ChromeUtils.get_chrome_driver">
<span class="sig-name descname"><span class="pre">get_chrome_driver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">proxy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#ChromeUtils.get_chrome_driver"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.ChromeUtils.get_chrome_driver" title="永久链接至目标"></a></dt>
<dd><p>获得一个chrome驱动</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>proxy</strong> (<em>str</em>) – 代理</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>chrome驱动</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.requestutils.ChromeUtils.get_page_source">
<span class="sig-name descname"><span class="pre">get_page_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_sleep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#ChromeUtils.get_page_source"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.ChromeUtils.get_page_source" title="永久链接至目标"></a></dt>
<dd><p>获得网页源码</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – 请求的url</p></li>
<li><p><strong>time_sleep</strong> (<em>int</em>) – 页面会在time_sleep时间后获得源码</p></li>
<li><p><strong>retry_count</strong> (<em>int</em>) – 重试次数，针对&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;情况</p></li>
<li><p><strong>proxy</strong> (<em>str</em>) – 代理</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>{“error”:”异常”,”content”:”网页源码”,”url”:”请求的url”}</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.requestutils.ChromeUtils.refresh_chrome">
<span class="sig-name descname"><span class="pre">refresh_chrome</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#ChromeUtils.refresh_chrome"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.ChromeUtils.refresh_chrome" title="永久链接至目标"></a></dt>
<dd><p>重启浏览器</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>重启成功返回True，否则返回False</p>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="liangutil.requestutils.RequestUtils">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">liangutil.requestutils.</span></span><span class="sig-name descname"><span class="pre">RequestUtils</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_ssl_verify</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_choice_agent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxy_host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#RequestUtils"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.RequestUtils" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>RequestUtils 基于 requests 库进行的封装</p>
<dl class="py method">
<dt class="sig sig-object py" id="liangutil.requestutils.RequestUtils.file_download">
<span class="sig-name descname"><span class="pre">file_download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_zip_extract</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_wget</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">github_author</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">github_project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#RequestUtils.file_download"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.RequestUtils.file_download" title="永久链接至目标"></a></dt>
<dd><p>下载文件主方法(推荐调用)</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – url</p></li>
<li><p><strong>file_path</strong> (<em>str</em>) – 文件存放在哪里</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – 文件名称</p></li>
<li><p><strong>is_zip_extract</strong> (<em>bool</em>) – 是否解压</p></li>
<li><p><strong>retry</strong> (<em>int</em>) – 重试次数</p></li>
<li><p><strong>is_wget</strong> (<em>bool</em>) – 是否用wget</p></li>
<li><p><strong>github_author</strong> (<em>str</em>) – 项目作者</p></li>
<li><p><strong>github_project</strong> (<em>str</em>) – 项目名称</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>True/False</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.requestutils.RequestUtils.file_download_github">
<span class="sig-name descname"><span class="pre">file_download_github</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">github_author</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">github_project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#RequestUtils.file_download_github"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.RequestUtils.file_download_github" title="永久链接至目标"></a></dt>
<dd><p>下载代码仓库</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>github_author</strong> (<em>str</em>) – 项目作者</p></li>
<li><p><strong>github_project</strong> (<em>str</em>) – 项目名称</p></li>
<li><p><strong>file_path</strong> (<em>str</em>) – 存放到那里</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>True/False</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.requestutils.RequestUtils.file_download_once">
<span class="sig-name descname"><span class="pre">file_download_once</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#RequestUtils.file_download_once"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.RequestUtils.file_download_once" title="永久链接至目标"></a></dt>
<dd><p>从指定URL下载单个文件的方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – url</p></li>
<li><p><strong>file</strong> (<em>str</em>) – 文件名</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>True/False</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.requestutils.RequestUtils.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_response_json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_sleep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#RequestUtils.get"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.RequestUtils.get" title="永久链接至目标"></a></dt>
<dd><p>Get 请求</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – 请求的url</p></li>
<li><p><strong>headers</strong> (<em>str</em>) – 请求头</p></li>
<li><p><strong>retry_count</strong> (<em>int</em>) – 重试次数</p></li>
<li><p><strong>is_response_json</strong> (<em>bool</em>) – 返回的是否是json</p></li>
<li><p><strong>time_sleep</strong> (<em>int</em>) – 请求失败后的停止时间</p></li>
<li><p><strong>proxies</strong> (<em>dict</em>) – 代理</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>{“error”: “状态码/异常”, “content”: “网页源码/json”,”url”: “请求的url”}</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.requestutils.RequestUtils.get_header">
<span class="sig-name descname"><span class="pre">get_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_choice_agent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#RequestUtils.get_header"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.RequestUtils.get_header" title="永久链接至目标"></a></dt>
<dd><p>获得 USER-AGENT</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>is_choice_agent</strong> (<em>bool</em>) – 是否随机 USER-AGENT</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>USER-AGENT</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="liangutil.requestutils.RequestUtils.post">
<span class="sig-name descname"><span class="pre">post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_response_json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_sleep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#RequestUtils.post"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.RequestUtils.post" title="永久链接至目标"></a></dt>
<dd><p>Post 请求</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – 请求的url</p></li>
<li><p><strong>headers</strong> (<em>str</em>) – 请求头</p></li>
<li><p><strong>data</strong> (<em>dict</em>) – payload</p></li>
<li><p><strong>retry_count</strong> (<em>int</em>) – 重试次数</p></li>
<li><p><strong>is_response_json</strong> (<em>bool</em>) – 返回的是否是json</p></li>
<li><p><strong>time_sleep</strong> (<em>int</em>) – 请求失败后的停止时间</p></li>
<li><p><strong>proxies</strong> (<em>dict</em>) – 代理</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>{“error”: “状态码/异常”, “content”: “网页源码/json”,”url”: “请求的url”}</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="liangutil.requestutils.build_url">
<span class="sig-prename descclassname"><span class="pre">liangutil.requestutils.</span></span><span class="sig-name descname"><span class="pre">build_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/liangutil/requestutils.html#build_url"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#liangutil.requestutils.build_url" title="永久链接至目标"></a></dt>
<dd><p>构建url，将参数拼接在url后面</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_url</strong> (<em>str</em>) – 目录路径</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – 参数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>url</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-liangutil">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-liangutil" title="此标题的永久链接"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2023, LiAng88。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>